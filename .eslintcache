[{"/Users/migueldominguezsanchez/React/bluuweb/login-1/src/index.js":"1","/Users/migueldominguezsanchez/React/bluuweb/login-1/src/App.jsx":"2","/Users/migueldominguezsanchez/React/bluuweb/login-1/src/components/Navbar.jsx":"3","/Users/migueldominguezsanchez/React/bluuweb/login-1/src/components/Login.jsx":"4","/Users/migueldominguezsanchez/React/bluuweb/login-1/src/firebase.js":"5","/Users/migueldominguezsanchez/React/bluuweb/login-1/src/components/Admin.jsx":"6"},{"size":218,"mtime":1611576743031,"results":"7","hashOfConfig":"8"},{"size":557,"mtime":1611647573933,"results":"9","hashOfConfig":"8"},{"size":595,"mtime":1611587072500,"results":"10","hashOfConfig":"8"},{"size":3074,"mtime":1611646748045,"results":"11","hashOfConfig":"8"},{"size":518,"mtime":1611646085980,"results":"12","hashOfConfig":"8"},{"size":551,"mtime":1611648126445,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"iinnab",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"16"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"16"},"/Users/migueldominguezsanchez/React/bluuweb/login-1/src/index.js",[],["29","30"],"/Users/migueldominguezsanchez/React/bluuweb/login-1/src/App.jsx",[],"/Users/migueldominguezsanchez/React/bluuweb/login-1/src/components/Navbar.jsx",[],"/Users/migueldominguezsanchez/React/bluuweb/login-1/src/components/Login.jsx",["31","32"],"import React from 'react';\nimport { auth, db } from '../firebase';\nimport { withRouter } from 'react-router-dom';\n\nconst Login = (props) => {\n\tconst [email, setEmail] = React.useState('');\n\tconst [pass, setPass] = React.useState('');\n\tconst [error, setError] = React.useState(null);\n\tconst [esRegistro, setEsRegistro] = React.useState(false);\n\n\tconst procesarDatos = (e) => {\n\t\te.preventDefault();\n\t\tif (!email.trim()) {\n\t\t\t// console.log('Ingrese Email');\n\t\t\tsetError('Ingrese Email');\n\t\t\treturn;\n\t\t}\n\t\tif (!pass.trim()) {\n\t\t\t// console.log('Ingrese Password');\n\t\t\tsetError('Ingrese Password');\n\t\t\treturn;\n\t\t}\n\t\tif (pass.length < 6) {\n\t\t\t// console.log('Password mayor a 6 caracters');\n\t\t\tsetError('Password de 6 caracters o más');\n\t\t\treturn;\n\t\t}\n\t\tconsole.log('correcto...');\n\t\tsetError(null);\n\n\t\tif (esRegistro) {\n\t\t\tregistrar();\n\t\t} else {\n\t\t\tLogin();\n\t\t}\n\t};\n\n\tconst login = React.useCallback(async () => {\n\t\ttry {\n\t\t\tconst res = await auth.signInWithEmailAndPassword();\n\t\t\tconsole.log(res.users);\n\t\t\tsetEmail('');\n\t\t\tsetPass('');\n\t\t\tsetError(null);\n\t\t\tprops.history.push('/admin');\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tif (error.code === 'auth/invalid-email') {\n\t\t\t\tsetError('Email no valido');\n\t\t\t}\n\t\t\tif (error.code === 'auth/user-not-found') {\n\t\t\t\tsetError('Email no registrado');\n\t\t\t}\n\t\t\tif (error.code === 'auth/user-not-password') {\n\t\t\t\tsetError('Contraseña incorrecta');\n\t\t\t}\n\t\t}\n\t}, [email, pass, props.history]);\n\n\tconst registrar = React.useCallback(async () => {\n\t\ttry {\n\t\t\tconst res = await auth.createUserWithEmailAndPassword(email, pass);\n\t\t\tawait db.collection('usuarios').doc(res.user.email).set({\n\t\t\t\temail: res.user.email,\n\t\t\t\tuid: res.user.uid,\n\t\t\t});\n\t\t} catch (error) {\n\t\t\t// console.log(error);\n\t\t\t// if (error.code === 'auth/invalid-email') setError('Email no valido');\n\t\t}\n\t\t// if (error.code === 'auth/email-already-in-use')\n\t\t// \tsetError('Email ya utilizado');\n\t}, [email, pass]);\n\n\treturn (\n\t\t<div className=\"mt-5\">\n\t\t\t<h3 className=\"text-center\">{esRegistro ? 'Registro' : 'Login'}</h3>\n\t\t\t<hr />\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t<div className=\"col-12 col-sm-8 col-md-6 col-xl-4\">\n\t\t\t\t\t<form onSubmit={procesarDatos}>\n\t\t\t\t\t\t{error && <div className=\"alert alert-danger\">{error}</div>}\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\tclassName=\"form-control mb-2\"\n\t\t\t\t\t\t\tplaceholder=\"Ingrese un email\"\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tclassName=\"form-control mb-2\"\n\t\t\t\t\t\t\tplaceholder=\"Ingrese un password\"\n\t\t\t\t\t\t\tonChange={(e) => setPass(e.target.value)}\n\t\t\t\t\t\t\tvalue={pass}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button className=\"btn-dark btn-lg btn-block\" type=\"submit\">\n\t\t\t\t\t\t\t{esRegistro ? 'Registrar' : 'Acceder'}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn btn-info btn-sm btn-block\"\n\t\t\t\t\t\t\tonClick={() => setEsRegistro(!esRegistro)}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{esRegistro ? '¿Ya estas registrado?' : '¿No tienes cuenta?'}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(Login);\n","/Users/migueldominguezsanchez/React/bluuweb/login-1/src/firebase.js",[],"/Users/migueldominguezsanchez/React/bluuweb/login-1/src/components/Admin.jsx",["33","34","35"],"import userEvent from '@testing-library/user-event';\nimport React from 'react';\nimport { auth } from '../firebase';\nimport { withRouter } from 'react-router-dom';\n\nconst Admin = (props) => {\n\tconst [user, setUser] = React.useState(null);\n\n\tReact.useEffect(() => {\n\t\tif (auth.currentUser) {\n\t\t\tconsole.log('existe un usuario');\n\t\t\tsetUser(auth.currentUser);\n\t\t} else {\n\t\t\tconsole.log('no existe el usuario');\n\t\t\tprops.history.push('/login');\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Ruta protegida</h2>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(Admin);\n",{"ruleId":"36","replacedBy":"37"},{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","severity":1,"message":"41","line":38,"column":8,"nodeType":"42","messageId":"43","endLine":38,"endColumn":13},{"ruleId":"44","severity":1,"message":"45","line":58,"column":5,"nodeType":"46","endLine":58,"endColumn":33,"suggestions":"47"},{"ruleId":"40","severity":1,"message":"48","line":1,"column":8,"nodeType":"42","messageId":"43","endLine":1,"endColumn":17},{"ruleId":"40","severity":1,"message":"49","line":7,"column":9,"nodeType":"42","messageId":"43","endLine":7,"endColumn":13},{"ruleId":"44","severity":1,"message":"50","line":17,"column":5,"nodeType":"46","endLine":17,"endColumn":7,"suggestions":"51"},"no-native-reassign",["52"],"no-negated-in-lhs",["53"],"no-unused-vars","'login' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook React.useCallback has unnecessary dependencies: 'email' and 'pass'. Either exclude them or remove the dependency array.","ArrayExpression",["54"],"'userEvent' is defined but never used.","'user' is assigned a value but never used.","React Hook React.useEffect has a missing dependency: 'props.history'. Either include it or remove the dependency array.",["55"],"no-global-assign","no-unsafe-negation",{"desc":"56","fix":"57"},{"desc":"56","fix":"58"},"Update the dependencies array to be: [props.history]",{"range":"59","text":"60"},{"range":"61","text":"60"},[1406,1434],"[props.history]",[449,451]]